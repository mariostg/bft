{% extends 'core/base.html' %}
{% load static %}
{% block title %}BFT Users Table{% endblock title %}
{% block content %} 

<main class="block block--centered">
    <table id='user-table' class='zebra'>
        <header class='block'>
            <h2>BFT Users</h2>
        </header>
        {% if user.is_authenticated %}
        <div class='block'>
            <div class="action-bar block">
                <a class='btn' href="{% url 'user-add' %}">Add user</a>
            </div>
        </div>
        {% endif %}
        <thead>
            <tr>
                <th>Sequence</th>
                <th>Username</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Default FC</th>
                <th>Default CC</th>
                <th>Email Address</th>
                <th>Last Login</th>
                <th>Date Joined</th>
                <th>Is Active</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for elem in users %}
            <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{elem.username}}</td>
            <td>{{elem.first_name}}</td>
            <td>{{elem.last_name}}</td>
            <td>{{elem.default_fc}}</td>
            <td>{{elem.default_cc}}</td>
            <td>{{elem.email}}</td>
            <td>{{elem.last_login|date:"Y-m-d"}}, {{elem.last_login|time:"H:i"}}</td>
            <td>{{elem.date_joined|date:"Y-m-d"}}</td>
            <td>{{elem.is_active}}</td>
            <td> 
                {% if user.is_authenticated %}
                <a class='btn'href="{% url "user-update" elem.id %}">Modify</a> 
                <a class='btn btn-delete' href="{% url "user-delete" elem.id %}">Delete</a>
            </td>
            {% endif %}
        </tr>
            {% endfor %} 

        </tbody>
    </table>
</main>
</body>
</html>

{% endblock content %}